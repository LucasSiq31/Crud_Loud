<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GET</title>

    <link rel="stylesheet" href="css/style.css" />
    <link rel="shortcut icon" href="img/icon.png" type="image/x-icon">
  </head>
  <body>
    <header>
      <img src="img/loud-logo.png" alt="" />
    </header>

    <div class="container">
      <nav>
        <div>
          <h2>Menu</h2>
          <hr />
        </div>

        <a class="destaque" href="index.html">GET</a>
        <a href="post.html">POST</a>
        <a href="login-put.html">PUT</a>
        <a href="login-delete.html">DELETE</a>
      </nav>

      <main>
        <h1>MÃ©todo GET - CRUD</h1>

        <table>
          <tr>
            <th>ID</th>
            <th>Nickname</th>
            <th>Nome</th>
            <th>Nacionalidade</th>
            <th>Agente mais jogado</th>
          </tr>
          <tbody id="tabela-corpo"></tbody>
        </table>
      </main>
    </div>

    <script>
      fetch(`pessoas`)
      .then(response => response.json())
      .then(data => {
          const tabela = document.getElementById('tabela-corpo');
          //Utilizado o loop ForEach para interar cada objeto no array retornado a API
          data.forEach((objeto) => {
              //Adicionado essa string de template ao conteudo HTML do corpo da tabela.
              const linha = `<tr>
                  <td>${objeto.id}</td>
                  <td>${objeto.nickname}</td>
                  <td>${objeto.nome}</td>
                  <td>${objeto.nacionalidade}</td>
                  <td>${objeto.agente}</td>
              </tr>`;
              tabela.innerHTML += linha;
            })
        })
    </script>
  </body>
</html>
